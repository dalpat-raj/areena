"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[1353],{1353:function(e,s,n){n.r(s),n.d(s,{default:function(){return x}});var i=n(4165),l=n(5861),d=n(9439),o=n(2791),t=n(9434),a=n(6856),r=n(5759),c=n(7689),u=n(1087),v=n(5985),p=n(1243),h=n(184),x=function(){var e,s,n,x,m,j,f,N,g,_,y,C,b=(0,t.v9)((function(e){return e.cart})),S=b.cart,Z=(0,t.v9)((function(e){return e.user})),w=Z.user,P=(0,o.useState)(null!==w&&void 0!==w&&null!==(e=w.addresses[0])&&void 0!==e&&e.country?null===w||void 0===w||null===(s=w.addresses[0])||void 0===s?void 0:s.country:"India"),A=(0,d.Z)(P,2),k=A[0],q=A[1],z=(0,o.useState)(null!==w&&void 0!==w&&null!==(n=w.addresses[0])&&void 0!==n&&n.state?null===w||void 0===w||null===(x=w.addresses[0])||void 0===x?void 0:x.state:""),T=(0,d.Z)(z,2),D=T[0],F=T[1],I=(0,o.useState)(null!==w&&void 0!==w&&null!==(m=w.addresses[0])&&void 0!==m&&m.city?null===w||void 0===w||null===(j=w.addresses[0])||void 0===j?void 0:j.city:""),E=(0,d.Z)(I,2),L=E[0],M=E[1],O=(0,o.useState)(null!==w&&void 0!==w&&w.name?null===w||void 0===w?void 0:w.name:""),H=(0,d.Z)(O,2),J=H[0],U=H[1],W=(0,o.useState)(null!==w&&void 0!==w&&w.phoneNumber?null===w||void 0===w?void 0:w.phoneNumber:""),Y=(0,d.Z)(W,2),B=Y[0],G=Y[1],K=(0,o.useState)(null!==w&&void 0!==w&&null!==(f=w.addresses[0])&&void 0!==f&&f.address1?null===w||void 0===w||null===(N=w.addresses[0])||void 0===N?void 0:N.address1:""),Q=(0,d.Z)(K,2),R=Q[0],V=Q[1],X=(0,o.useState)(null===w||void 0===w||null===(g=w.addresses[0])||void 0===g?void 0:g.address2),$=(0,d.Z)(X,2),ee=$[0],se=$[1],ne=(0,o.useState)(null!==w&&void 0!==w&&null!==(_=w.addresses[0])&&void 0!==_&&_.zipCode?null===w||void 0===w||null===(y=w.addresses[0])||void 0===y?void 0:y.zipCode:null),ie=(0,d.Z)(ne,2),le=ie[0],de=ie[1],oe=(0,o.useState)(!1),te=(0,d.Z)(oe,2),ae=te[0],re=te[1],ce=(0,o.useState)(null),ue=(0,d.Z)(ce,2),ve=ue[0],pe=ue[1],he=(0,o.useState)(null),xe=(0,d.Z)(he,2),me=xe[0],je=xe[1],fe=(0,o.useState)(null),Ne=(0,d.Z)(fe,2),ge=Ne[0],_e=Ne[1],ye=(0,o.useState)([]),Ce=(0,d.Z)(ye,2),be=Ce[0],Se=Ce[1],Ze=(0,c.s0)(),we=function(e){var s=null===w||void 0===w?void 0:w.addresses.find((function(s){return s.addressType===e.target.value}));q(null===s||void 0===s?void 0:s.country),F(null===s||void 0===s?void 0:s.state),M(null===s||void 0===s?void 0:s.city),V(null===s||void 0===s?void 0:s.address1),se(null===s||void 0===s?void 0:s.address2),de(null===s||void 0===s?void 0:s.zipCode)},Pe=0!==(null===be||void 0===be?void 0:be.length)?null===be||void 0===be?void 0:be.reduce((function(e,s){return e+(null===s||void 0===s?void 0:s.qty)*(null===s||void 0===s?void 0:s.sellingPrice)}),0):null===S||void 0===S?void 0:S.reduce((function(e,s){return e+(null===s||void 0===s?void 0:s.qty)*(null===s||void 0===s?void 0:s.sellingPrice)}),0),Ae=Pe<1e3?Pe/100*5:0,ke=me?(Pe+Ae-(me?ge:"")).toFixed(2):(Pe+Ae).toFixed(2),qe=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(s){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),n=ve,e.next=4,p.Z.get("/api/v2/get-coupon-value/".concat(n)).then((function(e){var s,n,i,l,d=null===(s=e.data)||void 0===s||null===(n=s.couponCode)||void 0===n?void 0:n.selectedProducts,o=null===(i=e.data)||void 0===i||null===(l=i.couponCode)||void 0===l?void 0:l.value;if(null!==e.data.couponCode){var t=S&&S.filter((function(e){return e.name===d}));if(0===t.length)v.Am.error("coupon invalid for this product"),pe("");else{var a=t.reduce((function(e,s){return e+s.qty*s.sellingPrice}),0);_e(a*o/100),je(e.data.couponCode)}}null===e.data.couponCode&&(v.Am.error("Coupon Code Doesn't Exists!"),pe(""))})).catch((function(e){v.Am.error(e.response.data.error.message),pe("")}));case 4:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){Se(null===S||void 0===S?void 0:S.filter((function(e){var s;return null===e||void 0===e||null===(s=e.shop)||void 0===s?void 0:s.pinCode.find((function(e){return+e===+le}))})))}),[S,le]),(0,h.jsx)("div",{className:"checkout__main",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsxs)("div",{className:"box address__col",children:[(0,h.jsxs)("div",{className:"heading",children:[(0,h.jsx)("h2",{children:"Shipping Address"}),(0,h.jsx)("div",{className:"account",children:(0,h.jsxs)("p",{children:["Have an account? ",(0,h.jsx)(u.rU,{to:"/login",children:"Log in"})]})})]}),(0,h.jsxs)("div",{className:"input__main__container",children:[(0,h.jsx)("div",{className:"box",children:(0,h.jsx)("input",{type:"text",value:k,disabled:!0})}),(0,h.jsxs)("div",{className:"input__row",children:[(0,h.jsx)("div",{className:"box",children:(0,h.jsx)("input",{type:"text",placeholder:"Full name",value:J,onChange:function(e){return U(e.target.value)}})}),(0,h.jsx)("div",{className:"box",children:(0,h.jsx)("input",{type:"number",placeholder:"Phone number",value:B,onChange:function(e){return G(e.target.value)}})})]}),(0,h.jsx)("div",{className:"box",children:(0,h.jsx)("input",{type:"text",placeholder:"Apartment, suit, etc. (optional)",value:R,onChange:function(e){return V(e.target.value)}})}),(0,h.jsx)("div",{className:"box",children:(0,h.jsx)("input",{type:"text",placeholder:"Address",value:ee,onChange:function(e){return se(e.target.value)}})}),(0,h.jsxs)("div",{className:"input__row",children:[(0,h.jsx)("div",{className:"box",children:(0,h.jsx)("input",{type:"text",name:"state",value:D,placeholder:"State",onChange:function(e){return F(e.target.value)}})}),(0,h.jsx)("div",{className:"box",children:(0,h.jsx)("input",{type:"text",name:"state",value:L,placeholder:"City",onChange:function(e){return M(e.target.value)}})}),(0,h.jsx)("div",{className:"box",children:(0,h.jsx)("input",{type:"text",value:le,placeholder:"PIN code",onChange:function(e){return de(e.target.value)}})})]})]}),(0,h.jsxs)("div",{className:"choose__address",children:[(0,h.jsxs)("div",{className:"saved__address",onClick:function(){return re(!ae)},children:[(0,h.jsxs)("div",{className:"open_saved_address",children:[(0,h.jsx)("p",{children:"Choose Addresses"}),(0,h.jsx)("p",{className:"icon",children:(0,h.jsx)(a.Ix0,{})})]}),(0,h.jsx)("div",{className:"payment-btn",children:(0,h.jsx)("button",{onClick:function(){if(""===k||""===D||""===L||""===ee||null===le)v.Am.error("please choose your delivery address!");else{var e={data:be,totalPrice:ke,subTotalPrice:Pe,shippingPrice:Ae,discountPrice:ge,shippingAddress:{country:k,state:D,city:L,address1:R,address2:ee,zipCode:le},user:w};0!==(null===be||void 0===be?void 0:be.length)?(localStorage.setItem("latestOrder",JSON.stringify(e)),Ze("/payment")):alert("Product Not Deliver With Your Address")}},className:"btn-main",children:"Countinue To Payment"})})]}),ae&&(null===w||void 0===w||null===(C=w.addresses)||void 0===C?void 0:C.map((function(e,s){return(0,h.jsxs)("div",{className:"address__box",children:[(0,h.jsx)("input",{id:null===e||void 0===e?void 0:e.city,type:"checkbox",value:null===e||void 0===e?void 0:e.addressType,onChange:we}),(0,h.jsx)("label",{htmlFor:null===e||void 0===e?void 0:e.city,children:null===e||void 0===e?void 0:e.addressType})]},s)})))]})]}),(0,h.jsx)("div",{className:"box coupon__col",children:(0,h.jsxs)("div",{className:"cart__products",children:[0!==(null===be||void 0===be?void 0:be.length)?(0,h.jsxs)("h4",{children:[(0,h.jsx)("span",{children:"note:-"})," only this products is deliverable on your pin Code"]}):null,0!==(null===be||void 0===be?void 0:be.length)?null===be||void 0===be?void 0:be.map((function(e,s){return(0,h.jsxs)("div",{className:"product__row",children:[(0,h.jsxs)("div",{className:"col img__row",children:[(0,h.jsxs)("div",{className:"img",children:[(0,h.jsx)("img",{src:"".concat(r.M,"/").concat(null===e||void 0===e?void 0:e.images[0]),alt:"df"}),(0,h.jsx)("span",{className:"product__qty",children:null===e||void 0===e?void 0:e.qty})]}),(0,h.jsxs)("div",{className:"product__name",children:[(0,h.jsx)("p",{children:null===e||void 0===e?void 0:e.name}),(0,h.jsxs)("span",{children:[null===e||void 0===e?void 0:e.size," ","/ ".concat(null===e||void 0===e?void 0:e.color)]})]})]}),(0,h.jsx)("div",{className:"col col_price",children:(0,h.jsxs)("p",{children:["\u20b9 ",(null===e||void 0===e?void 0:e.sellingPrice)*(null===e||void 0===e?void 0:e.qty)]})})]},s)})):null===S||void 0===S?void 0:S.map((function(e,s){return(0,h.jsxs)("div",{className:"product__row",children:[(0,h.jsxs)("div",{className:"col img__row",children:[(0,h.jsxs)("div",{className:"img",children:[(0,h.jsx)("img",{src:"".concat(r.M,"/").concat(null===e||void 0===e?void 0:e.images[0]),alt:"df"}),(0,h.jsx)("span",{className:"product__qty",children:null===e||void 0===e?void 0:e.qty})]}),(0,h.jsxs)("div",{className:"product__name",children:[(0,h.jsx)("p",{children:null===e||void 0===e?void 0:e.name}),(0,h.jsxs)("span",{children:[null===e||void 0===e?void 0:e.size," ","/ ".concat(null===e||void 0===e?void 0:e.color)]})]})]}),(0,h.jsx)("div",{className:"col col_price",children:(0,h.jsxs)("p",{children:["\u20b9 ",(null===e||void 0===e?void 0:e.sellingPrice)*(null===e||void 0===e?void 0:e.qty)]})})]},s)})),(0,h.jsx)("form",{children:(0,h.jsxs)("div",{className:"discount__code",children:[(0,h.jsx)("input",{type:"text",value:ve,onChange:function(e){return pe(e.target.value)},placeholder:"Discount Code"}),(0,h.jsx)("button",{onClick:qe,type:"submit",className:"btn-main",children:"Apply"})]})}),(0,h.jsxs)("div",{className:"price",children:[(0,h.jsxs)("div",{className:"subtotal row",children:[(0,h.jsx)("p",{children:"Subtotal"}),(0,h.jsxs)("p",{children:["\u20b9 ",Pe&&Pe]})]}),(0,h.jsxs)("div",{className:"shipping row",children:[(0,h.jsx)("p",{children:"Shipping "}),(0,h.jsxs)("p",{className:"shipping__price",children:["\u20b9 ",Ae&&Ae.toLocaleString()]})]}),(0,h.jsxs)("div",{className:"estimate__tax row",children:[(0,h.jsx)("p",{children:"Estimate taxes "}),(0,h.jsx)("p",{children:"\u20b9 0.0"})]}),(0,h.jsxs)("div",{className:"discount row",children:[(0,h.jsx)("p",{children:"Discount"}),(0,h.jsxs)("p",{children:["\u20b9 ",ge?ge.toLocaleString():"0.0"]})]}),(0,h.jsxs)("div",{className:"total row",children:[(0,h.jsx)("p",{className:"total__text",children:"Total"}),(0,h.jsxs)("p",{className:"total__price",children:["\u20b9 ",ke&&ke]})]})]})]})})]})})}}}]);
//# sourceMappingURL=1353.858fcf9a.chunk.js.map