"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[3402],{1498:function(e,s,a){a.d(s,{Z:function(){return x}});a(2791);var d=a(1087),r=a(8820),i=a(3853),n=a(6856),c=a(4651),o=a(458),l=a(7692),t=a(8617),h=a(1213),u=a(184),x=function(e){var s=e.active;return(0,u.jsxs)("div",{className:"dashboardSidebar__main",children:[(0,u.jsx)("div",{className:1===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(h.toC,{})}),(0,u.jsx)("div",{className:"text",children:"Dashboard"})]})})}),(0,u.jsx)("div",{className:2===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard/orders",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(i.x8h,{})}),(0,u.jsx)("div",{className:"text",children:"All Orders"})]})})}),(0,u.jsx)("div",{className:3===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard/products",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(i.zFh,{})}),(0,u.jsx)("div",{className:"text",children:"All Products"})]})})}),(0,u.jsx)("div",{className:4===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard-create-product",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(r.A6B,{})}),(0,u.jsx)("div",{className:"text",children:"Create Product"})]})})}),(0,u.jsx)("div",{className:5===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard-events",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(n.HUb,{})}),(0,u.jsx)("div",{className:"text",children:"All Events"})]})})}),(0,u.jsx)("div",{className:6===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard-create-event",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(c.CI7,{})}),(0,u.jsx)("div",{className:"text",children:"Create Event"})]})})}),(0,u.jsx)("div",{className:7===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard-withdraw-money",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(o.Zkf,{})}),(0,u.jsx)("div",{className:"text",children:"Withdraw Money"})]})})}),(0,u.jsx)("div",{className:8===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard-messages",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(l.kK8,{})}),(0,u.jsx)("div",{className:"text",children:"Shop Inbox"})]})})}),(0,u.jsx)("div",{className:9===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard-coupon-code",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(r.RcH,{})}),(0,u.jsx)("div",{className:"text",children:"Discount Codes"})]})})}),(0,u.jsx)("div",{className:10===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard-refund",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(t.xkh,{})}),(0,u.jsx)("div",{className:"text",children:"Refunds"})]})})}),(0,u.jsx)("div",{className:11===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard-delivery-area",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(l.rdY,{})}),(0,u.jsx)("div",{className:"text",children:"Your Delivery Area"})]})})}),(0,u.jsx)("div",{className:12===s?"dashboardSidebar__row active":"dashboardSidebar__row",children:(0,u.jsx)(d.rU,{to:"/shop-dashboard-setting",children:(0,u.jsxs)("div",{className:"sidebar__header",children:[(0,u.jsx)("div",{className:"icon",children:(0,u.jsx)(o.H$w,{})}),(0,u.jsx)("div",{className:"text",children:"Setting"})]})})})]})}},3402:function(e,s,a){a.r(s),a.d(s,{default:function(){return v}});var d=a(4165),r=a(5861),i=a(9439),n=a(2791),c=a(1498),o=a(9434),l=a(8820),t=a(9893),h=a(1243),u=function(e){return function(){var s=(0,r.Z)((0,d.Z)().mark((function s(a){var r,i;return(0,d.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,a({type:"allCouponRequest"}),s.next=4,h.Z.get("/api/v2/get-coupon/".concat(e),{withCredentials:!0});case 4:r=s.sent,i=r.data,a({type:"allCouponSuccess",payload:i.couponCodes}),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(0),a({type:"allCouponFail",payload:s.t0.response.data.error.message});case 12:case"end":return s.stop()}}),s,null,[[0,9]])})));return function(e){return s.apply(this,arguments)}}()},x=a(184),v=function(){var e=(0,o.v9)((function(e){return e.seller})).seller,s=(0,o.v9)((function(e){return e.products})).shopProducts,a=(0,o.v9)((function(e){return e.coupons})),v=a.coupons,_=a.isLoading,j=(0,o.I0)(),b=(0,n.useState)(!1),m=(0,i.Z)(b,2),p=m[0],N=m[1],f=(0,n.useState)(""),w=(0,i.Z)(f,2),S=w[0],C=w[1],g=(0,n.useState)(null),Z=(0,i.Z)(g,2),P=Z[0],y=Z[1],k=(0,n.useState)(""),U=(0,i.Z)(k,2),D=U[0],F=U[1],A=function(){var s=(0,r.Z)((0,d.Z)().mark((function s(a){var r;return(0,d.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a.preventDefault(),r={name:S,value:P,shopId:null===e||void 0===e?void 0:e._id,selectedProducts:D},s.next=4,h.Z.post("/api/v2/create-coupon-code",r,{withCredentials:!0}).then((function(e){!0===e.data.success&&(alert(e.data.message),C(""),F(""),y(""))})).catch((function(e){alert(e.response.data.error.message)}));case 4:j(u(null===e||void 0===e?void 0:e._id)),N(!1);case 6:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}(),E=function(){var s=(0,r.Z)((0,d.Z)().mark((function s(a){return(0,d.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,h.Z.delete("/api/v2/delete-coupon/".concat(a),{withCredentials:!0}).then((function(e){!0===e.data.success&&alert(e.data.message)})).catch((function(e){alert(e.response.data.error.message)}));case 2:j(u(null===e||void 0===e?void 0:e._id));case 3:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();return(0,n.useEffect)((function(){j(u(null===e||void 0===e?void 0:e._id))}),[e,j]),_?(0,x.jsx)(t.Z,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"dashboard__container coupon",children:(0,x.jsx)("div",{className:"container",children:(0,x.jsxs)("div",{className:"dashboard__row",children:[(0,x.jsx)("div",{className:"col__2 dashboard__sidebar",children:(0,x.jsx)(c.Z,{active:9})}),(0,x.jsxs)("div",{className:"col__2 coupon__code__h",children:[(0,x.jsx)("div",{className:"btn-box",children:(0,x.jsx)("button",{onClick:function(){return N(!p)},className:"btn-main",children:"Create Coupon"})}),v&&(0,x.jsxs)("div",{className:"coupon__code__rows",children:[(0,x.jsx)("div",{className:"box",children:"Product Name"}),(0,x.jsx)("div",{className:"box",children:"Code"}),(0,x.jsx)("div",{className:"box",children:"Discount Percentage"}),(0,x.jsx)("div",{className:"box",children:"Delete"})]}),v&&(null===v||void 0===v?void 0:v.map((function(e,s){var a;return(0,x.jsxs)("div",{className:"coupon__code__rows",children:[(0,x.jsx)("div",{className:"product__name box",children:(0,x.jsx)("span",{children:(null===e||void 0===e||null===(a=e.selectedProducts)||void 0===a?void 0:a.length)>=75?(null===e||void 0===e?void 0:e.selectedProducts.slice(0,75))+"...":null===e||void 0===e?void 0:e.selectedProducts})}),(0,x.jsx)("div",{className:"discount__code box",children:(0,x.jsx)("span",{children:null===e||void 0===e?void 0:e.name})}),(0,x.jsx)("div",{className:"discount__perc box",children:(0,x.jsx)("span",{children:null===e||void 0===e?void 0:e.value})}),(0,x.jsx)("div",{className:"coupon__delete box",children:(0,x.jsx)(l.VPh,{onClick:function(){return E(null===e||void 0===e?void 0:e._id)}})})]})})))]})]})})}),p&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"create__coupon__main",children:[(0,x.jsx)("div",{className:"header",children:(0,x.jsx)(l.oHP,{onClick:function(){return N(!1)}})}),(0,x.jsx)("h2",{children:"Create Coupon Code"}),(0,x.jsxs)("form",{onSubmit:A,children:[(0,x.jsxs)("div",{className:"input__box",children:[(0,x.jsx)("label",{htmlFor:"brand",children:"Name"}),(0,x.jsx)("input",{type:"text",id:"name",required:!0,name:"name",value:S,placeholder:"Enter Product Name",onChange:function(e){return C(e.target.value)}})]}),(0,x.jsxs)("div",{className:"input__box",children:[(0,x.jsx)("label",{htmlFor:"value",children:"Discount Percentage"}),(0,x.jsx)("input",{type:"number",id:"value",name:"brand",value:P,required:!0,placeholder:"Enter Coupon Code Value",onChange:function(e){return y(e.target.value)}})]}),(0,x.jsxs)("div",{className:"input__box",children:[(0,x.jsx)("label",{htmlFor:"selectedProducts",children:"Selected Products"}),(0,x.jsxs)("select",{id:"selectedProducts",value:D,onChange:function(e){return F(e.target.value)},children:[(0,x.jsx)("option",{value:"Choose a Product",children:"Choose Your Product"}),s&&s.map((function(e,s){return(0,x.jsx)("option",{value:e.title,children:e.name},s)}))]})]}),(0,x.jsx)("div",{className:"btn__box",children:(0,x.jsx)("button",{type:"submit",className:"btn-main",children:"Submit"})})]})]}),(0,x.jsx)("p",{onClick:function(){return N(!1)},className:p?"overlay":""})]})]})}}}]);
//# sourceMappingURL=3402.d6152e81.chunk.js.map